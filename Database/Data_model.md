## Data Model

### 层次数据模型

#### 基本思路

- 由于现实世界中很多事物之间本身就存在层次关系，层次数据模型尝试用树来描述这些。

#### 基本概念

- 记录   record
  - 把现实世界一个实体表达为一个记录
- 域   field
  - 一个记录由若干个域来描述
- PCR（双亲子女关系）：表达现实生活中一对多的关系

#### 层次型数据库的数据模式

- 一个层次数据模型有多个PCR
- 每一个PCR表示一个1对多的关系
- 每一个记录类型只有一个父节点

#### 虚记录

##### 现有的PCR技术难以表示现实生活中下列类型的关系

- 现实生活中很多数据不是层次型，它难以用PCR表示
  - 记录之间的多对多关系
  - 一个记录类型可能有不止一个父节点
  - 多元关系

##### 引入虚记录

- 为了避免数据的冗余，且保持树状结构
  - 引入指针，由虚记录指向相应的真实记录

### 网状数据模型

#### 基本思路

- 网状模型的基本数据结构为set【系】，一个set表达现实世界中两个数据类型的一对多关系。其中一为主记录，多为属记录。在网状模型中，一个记录类型可以是多个类型的主记录，也可以是多个类型的属记录。

#### 基本概念

- 突破了层次结构的限制，能更容易地表示非层次型数据
- 记录 record
- data items 
  - 与域相似，但它可以是向量
- set 表达两个记录类型的一对多关系 
  - 是一个链表
- Link记录类型
  - 可以表示多对多关系
  - 可以表示多元关系
  - 类型内的自连接
    - 用雇员【上司】与对应的link构成一个系s1
    - link对雇员【手下】之间构成系s2

### 关系数据模型

#### 基本思路

- 关系模型的基本数据结构是表，即关系。将现实生活中实体和实体之间的联系全部用表来表示。将表看出多个元组【记录】的集合，可以采用数学的研究方法进行研究。

#### 特性

- 基于数学集合论，有更高的抽象级别
- 屏蔽了所有的底层细节，易于理解
- 可以建立新的代数系统----关系代数
- 定义一个非过程化的查询语言----SQL
  - 非过程化，不需要程序员自己编写一步步的程序
- 软连接
  - 一种逻辑指针

#### 术语和概念

- 属性 Attributes
  - 称为列
  - 一个实体的多种方面的信息，称为属性
- 域 Domain
  - 每一个属性有一定的取值范围，称为域，表内数据的要求
    - 原子数据【不可再分】
    - 允许属性的值为空值【空值为不知道，不是0也不是空串】
- 关系 Relation
  - 简称为表
  - 现实世界的实体和实体间的联系用关系表达
- 元组 Tuple
  - 表内每一行称为元组
- 目 
  - 属性的数量
- 主键
  - 候选键满足以下条件
    - 这个关系内任意两条不同的元组这个属性的值都不一样【这组属性的值能够唯一的决定其它的值】
    - 该组属性的任意一个子集没有这个特性
  - 满足第一个而第二个不满足的话就称为超键
  - 候选键可能有多个，可以指定其中一个为主键，其余的为候补键
  - 如果主键是由该关系内所有属性组成，则称为全键
- 外键
  - 在一个关系内，有一组属性用来引用另一张表内的元组，那么该外键应为另一张表的主键。
  - 引用完整性：如果我们把外键看成是一个逻辑指针，那么该逻辑指针指向的不能为空【即没有】。